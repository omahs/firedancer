---
# Check asserts
- name: Check build pre-requisites
  import_tasks: asserts.yml

# Install dependencies if required
- name: Install dependencies if missing
  import_tasks: dependencies.yml
  when: install_deps is True

# Build firedancer
- name: Build firedancer binaries
  import_tasks: fd_build.yml
  when: inventory_hostname in groups['build_fd']

# Build solana
- name: Build solana binaries
  import_tasks: labs_build.yml
  when: inventory_hostname in groups['build_labs']

# Distribute firedancer and solana binaries
- name: Distribute firedancer and solana binaries
  import_tasks: distribute.yml
